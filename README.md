# ğŸ¾ Pickleball Club Management System (PCM)

## Há»‡ Thá»‘ng Quáº£n LÃ½ CÃ¢u Láº¡c Bá»™ Pickleball - Vá»£t Thá»§ Phá»‘ NÃºi

---

## ğŸ“‹ ThÃ´ng Tin Sinh ViÃªn

| ThÃ´ng tin             | Chi tiáº¿t                                                                       |
| ---------------------- | ------------------------------------------------------------------------------- |
| **Há» vÃ  tÃªn** | Äá»— VÄƒn TuyÃªn                                                                |
| **MSSV**         | xxxxx734                                                                        |
| **Lá»›p**         | CNTT 17-08                                                                      |
| **NÄƒm há»c**    | 2025-2026                                                                       |
| **MÃ´n há»c**    | Láº­p TrÃ¬nh Di Äá»™ng NÃ¢ng Cao                                                 |
| **Äá» tÃ i**    | Há»‡ thá»‘ng quáº£n lÃ½ CLB Pickleball vá»›i Backend API vÃ  Flutter Mobile/Web App |

---

## ğŸŒ Demo Links - á»¨ng Dá»¥ng ÄÃ£ Deploy

ToÃ n bá»™ há»‡ thá»‘ng Ä‘Ã£ Ä‘Æ°á»£c deploy lÃªn cÃ¡c ná»n táº£ng cloud miá»…n phÃ­ vÃ  cÃ³ thá»ƒ truy cáº­p cÃ´ng khai:

| ThÃ nh pháº§n                   | URL                                                                                         | MÃ´ táº£                           |
| ------------------------------ | ------------------------------------------------------------------------------------------- | --------------------------------- |
| **ğŸ–¥ï¸ Flutter Web App** | [https://pcm-pcmfrontend.vercel.app](https://pcm-pcmfrontend.vercel.app)                       | Giao diá»‡n web cháº¡y trÃªn Vercel |
| **âš™ï¸ Backend API**     | [https://pcm-backend-v1-1.onrender.com](https://pcm-backend-v1-1.onrender.com)                 | RESTful API trÃªn Render.com      |
| **ğŸ“– Swagger API Docs**  | [https://pcm-backend-v1-1.onrender.com/swagger](https://pcm-backend-v1-1.onrender.com/swagger) | TÃ i liá»‡u API tÆ°Æ¡ng tÃ¡c       |
| **ğŸ³ Docker Hub**        | [https://hub.docker.com/r/ngocmi/pcm-backend](https://hub.docker.com/r/ngocmi/pcm-backend)     | Docker Image cÃ´ng khai           |
| **ğŸ“± APK File**          | `Frontend/build/app/outputs/flutter-apk/app-release.apk`                                  | File cÃ i Ä‘áº·t Android           |

### ğŸ” TÃ i Khoáº£n Demo Äá»ƒ Test

| Email             | Máº­t kháº©u   | Vai trÃ²        | Quyá»n háº¡n                        |
| ----------------- | ------------ | --------------- | ---------------------------------- |
| `admin@pcm.com` | `Admin123` | **Admin** | ToÃ n quyá»n quáº£n trá»‹ há»‡ thá»‘ng |
| `user@pcm.com`  | `User1234` | **User**  | NgÆ°á»i dÃ¹ng thÃ´ng thÆ°á»ng      |

> **LÆ°u Ã½**: Do sá»­ dá»¥ng Free Tier cá»§a Render.com, Backend cÃ³ thá»ƒ máº¥t 30-60 giÃ¢y Ä‘á»ƒ "thá»©c dáº­y" khi truy cáº­p láº§n Ä‘áº§u sau thá»i gian khÃ´ng hoáº¡t Ä‘á»™ng.

---

## ğŸ“– Tá»•ng Quan Dá»± Ãn

### ğŸ¯ Má»¥c TiÃªu

XÃ¢y dá»±ng má»™t há»‡ thá»‘ng quáº£n lÃ½ cÃ¢u láº¡c bá»™ Pickleball hoÃ n chá»‰nh, bao gá»“m:

- **Backend API** sá»­ dá»¥ng ASP.NET Core 8 vá»›i kiáº¿n trÃºc RESTful
- **Frontend Mobile/Web** sá»­ dá»¥ng Flutter há»— trá»£ Ä‘a ná»n táº£ng
- **Database** sá»­ dá»¥ng SQLite vá»›i Entity Framework Core
- **Real-time features** sá»­ dá»¥ng SignalR cho thÃ´ng bÃ¡o vÃ  cáº­p nháº­t trá»±c tiáº¿p
- **Deployment** Ä‘áº§y Ä‘á»§ lÃªn cÃ¡c ná»n táº£ng cloud (Render.com, Vercel, Docker Hub)

### ğŸ“ YÃªu Cáº§u Äá» BÃ i

Dá»± Ã¡n thá»±c hiá»‡n theo yÃªu cáº§u cá»§a bÃ i kiá»ƒm tra Flutter nÃ¢ng cao, bao gá»“m:

1. âœ… **Backend API RESTful** vá»›i ASP.NET Core 8
2. âœ… **Flutter Mobile App** há»— trá»£ Android vÃ  iOS
3. âœ… **Flutter Web App** cháº¡y trÃªn trÃ¬nh duyá»‡t
4. âœ… **Authentication & Authorization** vá»›i JWT
5. âœ… **State Management** sá»­ dá»¥ng Provider
6. âœ… **Real-time Communication** vá»›i SignalR
7. âœ… **Database** vá»›i Entity Framework Core Code First
8. âœ… **Docker Containerization**
9. âœ… **Cloud Deployment** (Backend + Frontend)
10. âœ… **API Documentation** vá»›i Swagger/OpenAPI

### ğŸ† Äiá»ƒm Ná»•i Báº­t

- **Kiáº¿n trÃºc phÃ¢n táº§ng rÃµ rÃ ng**: Controllers, Services, Models, DTOs
- **Prefix 734_** cho táº¥t cáº£ cÃ¡c Entity Models theo yÃªu cáº§u Ä‘á» bÃ i
- **10+ API Controllers** xá»­ lÃ½ Ä‘áº§y Ä‘á»§ cÃ¡c nghiá»‡p vá»¥
- **Background Services** tá»± Ä‘á»™ng há»§y booking vÃ  gá»­i nháº¯c nhá»Ÿ
- **Responsive UI** tÆ°Æ¡ng thÃ­ch má»i kÃ­ch thÆ°á»›c mÃ n hÃ¬nh
- **Charts & Analytics** cho Admin Dashboard
- **Secure Storage** cho JWT tokens
- **Error Handling** toÃ n diá»‡n vá»›i try-catch vÃ  logging

---

## ğŸ“ Cáº¥u TrÃºc Dá»± Ãn Chi Tiáº¿t

```
bai_kiem_tra_nang_cao/
â”‚
â”œâ”€â”€ ğŸ“‚ Backend/                          # ASP.NET Core 8 Web API
â”‚   â”œâ”€â”€ ğŸ“‚ Controllers/                  # 10 API Controllers
â”‚   â”‚   â”œâ”€â”€ AdminController.cs           # Quáº£n trá»‹ há»‡ thá»‘ng
â”‚   â”‚   â”œâ”€â”€ AuthController.cs            # ÄÄƒng nháº­p, Ä‘Äƒng kÃ½
â”‚   â”‚   â”œâ”€â”€ BookingController.cs         # Äáº·t sÃ¢n
â”‚   â”‚   â”œâ”€â”€ CourtController.cs           # Quáº£n lÃ½ sÃ¢n
â”‚   â”‚   â”œâ”€â”€ MemberController.cs          # Quáº£n lÃ½ thÃ nh viÃªn
â”‚   â”‚   â”œâ”€â”€ NotificationController.cs    # ThÃ´ng bÃ¡o
â”‚   â”‚   â”œâ”€â”€ RecurringBookingController.cs # Äáº·t sÃ¢n Ä‘á»‹nh ká»³
â”‚   â”‚   â”œâ”€â”€ TournamentController.cs      # Giáº£i Ä‘áº¥u
â”‚   â”‚   â”œâ”€â”€ TransactionController.cs     # Giao dá»‹ch
â”‚   â”‚   â””â”€â”€ WalletController.cs          # VÃ­ tiá»n
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ Models/                       # Entity Models (prefix 734_)
â”‚   â”‚   â”œâ”€â”€ 734_Member.cs                # ThÃ nh viÃªn CLB
â”‚   â”‚   â”œâ”€â”€ 734_Court.cs                 # SÃ¢n pickleball
â”‚   â”‚   â”œâ”€â”€ 734_Booking.cs               # ÄÆ¡n Ä‘áº·t sÃ¢n
â”‚   â”‚   â”œâ”€â”€ 734_RecurringBooking.cs      # Äáº·t sÃ¢n Ä‘á»‹nh ká»³
â”‚   â”‚   â”œâ”€â”€ 734_Tournament.cs            # Giáº£i Ä‘áº¥u
â”‚   â”‚   â”œâ”€â”€ 734_Match.cs                 # Tráº­n Ä‘áº¥u
â”‚   â”‚   â”œâ”€â”€ 734_Wallet.cs                # VÃ­ tiá»n
â”‚   â”‚   â”œâ”€â”€ 734_Transaction.cs           # Giao dá»‹ch
â”‚   â”‚   â”œâ”€â”€ 734_Notification.cs          # ThÃ´ng bÃ¡o
â”‚   â”‚   â”œâ”€â”€ 734_ClubFund.cs              # Quá»¹ CLB
â”‚   â”‚   â””â”€â”€ 734_TopUpRequest.cs          # YÃªu cáº§u náº¡p tiá»n
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ Data/
â”‚   â”‚   â”œâ”€â”€ ApplicationDbContext.cs      # EF Core DbContext
â”‚   â”‚   â””â”€â”€ DataSeeder.cs                # Seed dá»¯ liá»‡u máº«u
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ DTOs/                         # Data Transfer Objects
â”‚   â”‚   â””â”€â”€ AuthDTOs.cs                  # Login, Register DTOs
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ Hubs/
â”‚   â”‚   â””â”€â”€ NotificationHub.cs           # SignalR Hub cho real-time
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ Services/                     # Background Services
â”‚   â”‚   â”œâ”€â”€ BookingCancellationService.cs # Auto-cancel booking
â”‚   â”‚   â””â”€â”€ BookingReminderService.cs    # Auto-remind booking
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ Migrations/                   # EF Core Migrations
â”‚   â”œâ”€â”€ Dockerfile                       # Docker configuration
â”‚   â”œâ”€â”€ Program.cs                       # App configuration
â”‚   â”œâ”€â”€ appsettings.json                 # App settings
â”‚   â””â”€â”€ Pcm734Database.db                # SQLite database file
â”‚
â”œâ”€â”€ ğŸ“‚ Frontend/                         # Flutter Mobile & Web App
â”‚   â”œâ”€â”€ ğŸ“‚ lib/
â”‚   â”‚   â”œâ”€â”€ main.dart                    # Entry point
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ models/                   # Dart Models
â”‚   â”‚   â”‚   â”œâ”€â”€ booking.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ court.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ member.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ notification.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ tournament.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ transaction.dart
â”‚   â”‚   â”‚   â””â”€â”€ wallet.dart
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ providers/                # State Management (Provider)
â”‚   â”‚   â”‚   â”œâ”€â”€ auth_provider.dart       # Authentication state
â”‚   â”‚   â”‚   â”œâ”€â”€ booking_provider.dart    # Booking state
â”‚   â”‚   â”‚   â”œâ”€â”€ notification_provider.dart # Notification state
â”‚   â”‚   â”‚   â””â”€â”€ wallet_provider.dart     # Wallet state
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ services/                 # API & Real-time Services
â”‚   â”‚   â”‚   â”œâ”€â”€ api_service.dart         # HTTP Client (Dio)
â”‚   â”‚   â”‚   â”œâ”€â”€ signalr_service.dart     # SignalR Client
â”‚   â”‚   â”‚   â””â”€â”€ storage_service.dart     # Secure Storage
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ screens/                  # UI Screens
â”‚   â”‚   â”‚   â”œâ”€â”€ login_screen.dart        # MÃ n hÃ¬nh Ä‘Äƒng nháº­p
â”‚   â”‚   â”‚   â”œâ”€â”€ home_screen.dart         # Trang chá»§
â”‚   â”‚   â”‚   â”œâ”€â”€ admin_dashboard_screen.dart # Dashboard Admin
â”‚   â”‚   â”‚   â”œâ”€â”€ booking_screen.dart      # Äáº·t sÃ¢n
â”‚   â”‚   â”‚   â”œâ”€â”€ wallet_screen.dart       # Quáº£n lÃ½ vÃ­
â”‚   â”‚   â”‚   â”œâ”€â”€ tournament_screen.dart   # Giáº£i Ä‘áº¥u
â”‚   â”‚   â”‚   â”œâ”€â”€ notification_screen.dart # ThÃ´ng bÃ¡o
â”‚   â”‚   â”‚   â”œâ”€â”€ member_list_screen.dart  # Danh sÃ¡ch thÃ nh viÃªn
â”‚   â”‚   â”‚   â””â”€â”€ topup_requests_screen.dart # XÃ©t duyá»‡t náº¡p tiá»n
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ğŸ“‚ widgets/                  # Reusable Widgets
â”‚   â”‚       â”œâ”€â”€ revenue_chart.dart       # Biá»ƒu Ä‘á»“ doanh thu
â”‚   â”‚       â””â”€â”€ booking_calendar.dart    # Lá»‹ch Ä‘áº·t sÃ¢n
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ android/                      # Android configuration
â”‚   â”œâ”€â”€ ğŸ“‚ ios/                          # iOS configuration
â”‚   â”œâ”€â”€ ğŸ“‚ web/                          # Web configuration
â”‚   â”œâ”€â”€ ğŸ“‚ build/                        # Build outputs
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ web/                      # Web build (deploy to Vercel)
â”‚   â”‚   â””â”€â”€ ğŸ“‚ app/outputs/flutter-apk/
â”‚   â”‚       â””â”€â”€ app-release.apk          # Android APK
â”‚   â”‚
â”‚   â””â”€â”€ pubspec.yaml                     # Flutter dependencies
â”‚
â”œâ”€â”€ ğŸ“„ README.md                         # TÃ i liá»‡u chÃ­nh (file nÃ y)
â”œâ”€â”€ ğŸ“„ HUONG_DAN_DEPLOY.md               # HÆ°á»›ng dáº«n deploy chi tiáº¿t
â””â”€â”€ ğŸ“„ Bai kiem tra_Flutter.pdf          # Äá» bÃ i kiá»ƒm tra
```

---

## ğŸ› ï¸ CÃ´ng Nghá»‡ Sá»­ Dá»¥ng

### Backend Stack

| CÃ´ng nghá»‡                     | PhiÃªn báº£n | Má»¥c Ä‘Ã­ch sá»­ dá»¥ng                |
| ------------------------------- | ----------- | ------------------------------------ |
| **ASP.NET Core**          | 8.0         | Framework chÃ­nh cho Web API         |
| **Entity Framework Core** | 8.0         | ORM, Code First Migrations           |
| **SQLite**                | Latest      | Database nháº¹, dá»… deploy            |
| **JWT Bearer**            | Latest      | Authentication & Authorization       |
| **SignalR**               | 8.0         | Real-time communication (WebSockets) |
| **Swagger/OpenAPI**       | Latest      | API Documentation                    |
| **Docker**                | Latest      | Containerization                     |

**Packages chÃ­nh**:

```xml
<PackageReference Include="Microsoft.AspNetCore.Authentication.JwtBearer" />
<PackageReference Include="Microsoft.AspNetCore.SignalR" />
<PackageReference Include="Microsoft.EntityFrameworkCore.Sqlite" />
<PackageReference Include="Microsoft.EntityFrameworkCore.Design" />
<PackageReference Include="Swashbuckle.AspNetCore" />
```

### Frontend Stack

| CÃ´ng nghá»‡                      | PhiÃªn báº£n | Má»¥c Ä‘Ã­ch sá»­ dá»¥ng             |
| -------------------------------- | ----------- | --------------------------------- |
| **Flutter**                | 3.x         | Cross-platform framework          |
| **Dart**                   | 3.x         | Programming language              |
| **Provider**               | ^6.0.0      | State management                  |
| **Dio**                    | ^5.0.0      | HTTP Client cho API calls         |
| **SignalR Core**           | ^1.1.0      | Real-time client                  |
| **FL Chart**               | ^0.60.0     | Charts cho Admin Dashboard        |
| **Flutter Secure Storage** | ^9.0.0      | LÆ°u JWT tokens an toÃ n          |
| **Intl**                   | ^0.18.0     | Internationalization & formatting |

**Dependencies chÃ­nh** (pubspec.yaml):

```yaml
dependencies:
  flutter:
    sdk: flutter
  provider: ^6.0.0
  dio: ^5.0.0
  signalr_netcore: ^1.1.0
  fl_chart: ^0.60.0
  flutter_secure_storage: ^9.0.0
  intl: ^0.18.0
```

---

## ğŸš€ HÆ°á»›ng Dáº«n Cháº¡y Dá»± Ãn

### YÃªu Cáº§u Há»‡ Thá»‘ng

- **.NET SDK 8.0** hoáº·c cao hÆ¡n
- **Flutter SDK 3.x** hoáº·c cao hÆ¡n
- **Docker Desktop** (tÃ¹y chá»n, cho deployment)
- **Visual Studio Code** hoáº·c **Visual Studio 2022**
- **Android Studio** (cho build APK)

### 1ï¸âƒ£ Cháº¡y Backend API (Local)

```cmd
# Di chuyá»ƒn vÃ o thÆ° má»¥c Backend
cd Backend

# Restore cÃ¡c package NuGet
dotnet restore

# Cháº¡y migrations (náº¿u chÆ°a cÃ³ database)
dotnet ef database update

# Cháº¡y API server
dotnet run
```

**Káº¿t quáº£**:

- âœ… API URL: `http://localhost:5000`
- âœ… Swagger UI: `http://localhost:5000/swagger`

**Kiá»ƒm tra API hoáº¡t Ä‘á»™ng**:

```bash
curl http://localhost:5000/api/health
# Response: {"status":"Healthy","timestamp":"2026-02-01T..."}
```

### 2ï¸âƒ£ Cháº¡y Frontend Flutter

#### Cháº¡y trÃªn Web (Chrome)

```cmd
# Di chuyá»ƒn vÃ o thÆ° má»¥c Frontend
cd Frontend

# Láº¥y dependencies
flutter pub get

# Cháº¡y trÃªn Chrome
flutter run -d chrome
```

#### Cháº¡y trÃªn Android Emulator

```cmd
# Má»Ÿ Android Emulator trÆ°á»›c
# Sau Ä‘Ã³ cháº¡y:
flutter run
```

#### Cháº¡y trÃªn iOS Simulator (chá»‰ trÃªn macOS)

```cmd
flutter run -d ios
```

### 3ï¸âƒ£ Build Production

#### Build APK cho Android

```cmd
cd Frontend

# Build APK release
flutter build apk --release

# Hoáº·c build APK split theo ABI (giáº£m kÃ­ch thÆ°á»›c)
flutter build apk --split-per-abi
```

**Káº¿t quáº£**: `Frontend/build/app/outputs/flutter-apk/app-release.apk`

#### Build Web

```cmd
cd Frontend

# Build web production
flutter build web --release
```

**Káº¿t quáº£**: `Frontend/build/web/` (deploy folder nÃ y lÃªn Vercel)

---

## ğŸ³ Cháº¡y Báº±ng Docker

### CÃ¡ch 1: Pull tá»« Docker Hub (Nhanh nháº¥t)

```bash
# Pull image tá»« Docker Hub
docker pull ngocmi/pcm-backend:v1

# Cháº¡y container
docker run -d -p 5000:8080 --name pcm-backend ngocmi/pcm-backend:v1
```

Truy cáº­p: `http://localhost:5000/swagger`

### CÃ¡ch 2: Build tá»« Source Code

```bash
# Di chuyá»ƒn vÃ o thÆ° má»¥c Backend
cd Backend

# Build Docker image
docker build -t pcm-backend:local .

# Cháº¡y container
docker run -d -p 5000:8080 --name pcm-backend pcm-backend:local
```

### Quáº£n lÃ½ Container

```bash
# Xem logs
docker logs pcm-backend

# Dá»«ng container
docker stop pcm-backend

# XÃ³a container
docker rm pcm-backend

# Xem container Ä‘ang cháº¡y
docker ps
```

---

## ğŸ“± TÃ­nh NÄƒng ChÃ­nh Cá»§a Há»‡ Thá»‘ng

### ğŸ” Authentication & Authorization

- **ÄÄƒng kÃ½ tÃ i khoáº£n** vá»›i email vÃ  password
- **ÄÄƒng nháº­p** vá»›i JWT Token
- **PhÃ¢n quyá»n** Admin vÃ  User
- **Secure Storage** cho JWT tokens
- **Auto-refresh** token khi háº¿t háº¡n
- **Logout** xÃ³a token vÃ  session

### ğŸ’¼ Admin Dashboard (Chá»‰ Admin)

#### Tá»•ng Quan TÃ i ChÃ­nh

- **Tá»•ng quá»¹ CLB**: Hiá»ƒn thá»‹ sá»‘ dÆ° hiá»‡n táº¡i cá»§a quá»¹
- **Doanh thu thÃ¡ng nÃ y**: TÃ­nh tá»•ng thu nháº­p tá»« booking vÃ  giáº£i Ä‘áº¥u
- **Chi tiÃªu thÃ¡ng nÃ y**: TÃ­nh tá»•ng chi phÃ­ váº­n hÃ nh

#### Biá»ƒu Äá»“ Thá»‘ng KÃª

- **Biá»ƒu Ä‘á»“ doanh thu 12 thÃ¡ng**: Line chart hiá»ƒn thá»‹ xu hÆ°á»›ng thu/chi
- **Sá»­ dá»¥ng FL Chart**: TÆ°Æ¡ng tÃ¡c, zoom, tooltip
- **Responsive**: Tá»± Ä‘á»™ng Ä‘iá»u chá»‰nh theo kÃ­ch thÆ°á»›c mÃ n hÃ¬nh

#### Quáº£n LÃ½ Náº¡p Tiá»n

- **Xem danh sÃ¡ch yÃªu cáº§u náº¡p tiá»n**: Pending, Approved, Rejected
- **XÃ©t duyá»‡t**: Approve hoáº·c Reject vá»›i lÃ½ do
- **Upload áº£nh báº±ng chá»©ng**: NgÆ°á»i dÃ¹ng upload, Admin xem vÃ  xÃ©t duyá»‡t
- **Real-time update**: ThÃ´ng bÃ¡o ngay khi cÃ³ yÃªu cáº§u má»›i

#### Thá»‘ng KÃª Há»‡ Thá»‘ng

- **Sá»‘ lÆ°á»£ng thÃ nh viÃªn theo háº¡ng (Tier)**: Bronze, Silver, Gold, VIP, Diamond
- **Sá»‘ booking hÃ´m nay/tuáº§n nÃ y/thÃ¡ng nÃ y**
- **Sá»‘ giáº£i Ä‘áº¥u Ä‘ang má»Ÿ Ä‘Äƒng kÃ½**
- **Top 5 thÃ nh viÃªn tÃ­ch cá»±c nháº¥t**

### ğŸ† Quáº£n LÃ½ Giáº£i Äáº¥u

#### Táº¡o Giáº£i Äáº¥u

- **ThÃ´ng tin cÆ¡ báº£n**: TÃªn, mÃ´ táº£, ngÃ y báº¯t Ä‘áº§u/káº¿t thÃºc
- **Sá»‘ lÆ°á»£ng Ä‘á»™i**: Tá»‘i Ä‘a 16 Ä‘á»™i
- **PhÃ­ tham gia**: Tá»± Ä‘á»™ng trá»« tá»« vÃ­
- **Giáº£i thÆ°á»Ÿng**: PhÃ¢n chia theo háº¡ng 1, 2, 3

#### ÄÄƒng KÃ½ Tham Gia

- **Xem danh sÃ¡ch giáº£i Ä‘áº¥u**: Äang má»Ÿ, Ä‘ang diá»…n ra, Ä‘Ã£ káº¿t thÃºc
- **ÄÄƒng kÃ½ Ä‘á»™i**: TÃªn Ä‘á»™i, danh sÃ¡ch thÃ nh viÃªn
- **Thanh toÃ¡n**: Trá»« tiá»n tá»« vÃ­ tá»± Ä‘á»™ng

#### Lá»‹ch Thi Äáº¥u

- **Tá»± Ä‘á»™ng táº¡o lá»‹ch**: Há»‡ thá»‘ng tá»± Ä‘á»™ng phÃ¢n bá»• sÃ¢n vÃ  giá» thi Ä‘áº¥u
- **Cáº­p nháº­t tá»‰ sá»‘**: Admin hoáº·c trá»ng tÃ i cáº­p nháº­t káº¿t quáº£
- **Real-time**: NgÆ°á»i xem tháº¥y tá»‰ sá»‘ cáº­p nháº­t ngay láº­p tá»©c
- **Báº£ng xáº¿p háº¡ng**: Tá»± Ä‘á»™ng tÃ­nh Ä‘iá»ƒm vÃ  xáº¿p háº¡ng

### ğŸ¾ Äáº·t SÃ¢n (Booking)

#### Äáº·t SÃ¢n ThÆ°á»ng

- **Lá»‹ch trá»±c quan**: Calendar view hiá»ƒn thá»‹ sÃ¢n trá»‘ng/Ä‘Ã£ Ä‘áº·t
- **Chá»n giá»**: Chá»n khung giá» tá»« 6:00 - 22:00
- **GiÃ¡ linh hoáº¡t**: Giá» vÃ ng (18:00-22:00) giÃ¡ cao hÆ¡n
- **Thanh toÃ¡n**: Trá»« tiá»n tá»« vÃ­ ngay láº­p tá»©c
- **Auto-cancel**: Tá»± Ä‘á»™ng há»§y náº¿u khÃ´ng thanh toÃ¡n trong 15 phÃºt

#### Äáº·t SÃ¢n Äá»‹nh Ká»³ (Recurring Booking)

- **Chá»‰ dÃ nh cho VIP/Diamond**: Äáº·c quyá»n cho thÃ nh viÃªn cao cáº¥p
- **Äáº·t theo tuáº§n**: Chá»n ngÃ y trong tuáº§n (Thá»© 2, 4, 6...)
- **Tá»± Ä‘á»™ng gia háº¡n**: Há»‡ thá»‘ng tá»± Ä‘á»™ng táº¡o booking má»›i má»—i tuáº§n
- **Æ¯u tiÃªn**: ÄÆ°á»£c Æ°u tiÃªn giá»¯ sÃ¢n trÆ°á»›c ngÆ°á»i Ä‘áº·t thÆ°á»ng

#### Quáº£n LÃ½ Booking

- **Xem lá»‹ch sá»­**: Táº¥t cáº£ booking Ä‘Ã£ Ä‘áº·t, Ä‘ang chá», Ä‘Ã£ há»§y
- **Há»§y booking**: HoÃ n tiá»n 80% náº¿u há»§y trÆ°á»›c 24h
- **Nháº¯c nhá»Ÿ**: Nháº­n thÃ´ng bÃ¡o trÆ°á»›c 24h qua SignalR

### ğŸ’° Quáº£n LÃ½ VÃ­ (Wallet)

#### Náº¡p Tiá»n

- **Nháº­p sá»‘ tiá»n**: Tá»‘i thiá»ƒu 50,000 VNÄ
- **Upload áº£nh chuyá»ƒn khoáº£n**: Báº±ng chá»©ng thanh toÃ¡n
- **Chá» xÃ©t duyá»‡t**: Admin approve/reject
- **ThÃ´ng bÃ¡o káº¿t quáº£**: Real-time notification

#### Lá»‹ch Sá»­ Giao Dá»‹ch

- **Xem táº¥t cáº£ giao dá»‹ch**: Náº¡p tiá»n, thanh toÃ¡n booking, giáº£i Ä‘áº¥u
- **Filter**: Theo loáº¡i, theo ngÃ y
- **Chi tiáº¿t**: Sá»‘ tiá»n, thá»i gian, tráº¡ng thÃ¡i, mÃ´ táº£

#### Háº¡ng ThÃ nh ViÃªn (Tier System)

- **Bronze** (0-999 Ä‘iá»ƒm): ThÃ nh viÃªn má»›i
- **Silver** (1,000-2,999 Ä‘iá»ƒm): Giáº£m 5% phÃ­ booking
- **Gold** (3,000-4,999 Ä‘iá»ƒm): Giáº£m 10% phÃ­ booking
- **VIP** (5,000-9,999 Ä‘iá»ƒm): Giáº£m 15%, Ä‘Æ°á»£c Ä‘áº·t sÃ¢n Ä‘á»‹nh ká»³
- **Diamond** (10,000+ Ä‘iá»ƒm): Giáº£m 20%, Æ°u tiÃªn cao nháº¥t

**TÃ­ch Ä‘iá»ƒm**: 1 VNÄ chi tiÃªu = 1 Ä‘iá»ƒm

### ğŸ”” ThÃ´ng BÃ¡o Real-time

#### SignalR Integration

- **Káº¿t ná»‘i WebSocket**: Tá»± Ä‘á»™ng káº¿t ná»‘i khi Ä‘Äƒng nháº­p
- **Reconnect**: Tá»± Ä‘á»™ng káº¿t ná»‘i láº¡i khi máº¥t káº¿t ná»‘i
- **Nháº­n thÃ´ng bÃ¡o ngay láº­p tá»©c**: KhÃ´ng cáº§n refresh

#### CÃ¡c Loáº¡i ThÃ´ng BÃ¡o

- **Náº¡p tiá»n Ä‘Æ°á»£c duyá»‡t/tá»« chá»‘i**
- **Booking sáº¯p Ä‘áº¿n (24h trÆ°á»›c)**
- **Booking bá»‹ há»§y tá»± Ä‘á»™ng**
- **Giáº£i Ä‘áº¥u má»›i má»Ÿ Ä‘Äƒng kÃ½**
- **Káº¿t quáº£ thi Ä‘áº¥u cáº­p nháº­t**
- **ThÄƒng háº¡ng thÃ nh viÃªn**

#### Quáº£n LÃ½ ThÃ´ng BÃ¡o

- **ÄÃ¡nh dáº¥u Ä‘Ã£ Ä‘á»c**: Tap vÃ o thÃ´ng bÃ¡o
- **XÃ³a thÃ´ng bÃ¡o**: Swipe to delete
- **Badge count**: Hiá»ƒn thá»‹ sá»‘ thÃ´ng bÃ¡o chÆ°a Ä‘á»c

### ğŸ‘¥ Quáº£n LÃ½ ThÃ nh ViÃªn (Admin)

- **Xem danh sÃ¡ch**: Táº¥t cáº£ thÃ nh viÃªn vá»›i thÃ´ng tin chi tiáº¿t
- **TÃ¬m kiáº¿m**: Theo tÃªn, email, MSSV
- **Filter**: Theo háº¡ng (Tier), tráº¡ng thÃ¡i
- **Xem chi tiáº¿t**: Lá»‹ch sá»­ booking, giao dá»‹ch, Ä‘iá»ƒm tÃ­ch lÅ©y
- **KhÃ³a/Má»Ÿ khÃ³a tÃ i khoáº£n**: Quáº£n lÃ½ quyá»n truy cáº­p

---

## ğŸ”§ Cáº¥u HÃ¬nh Chi Tiáº¿t

### Backend Configuration (appsettings.json)

```json
{
  "ConnectionStrings": {
    "DefaultConnection": "Data Source=Pcm734Database.db"
  },
  "Jwt": {
    "Key": "YourSuperSecretKeyForJWT_MustBe32CharsOrMore_734",
    "Issuer": "PcmBackend",
    "Audience": "PcmFrontend",
    "ExpiryInMinutes": 1440
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  }
}
```

### Frontend Configuration (lib/services/api_service.dart)

```dart
class ApiService {
  // Production API URL (Render.com)
  static const String baseUrl = 'https://pcm-backend-v1-1.onrender.com/api';
  
  // Local development URL
  // static const String baseUrl = 'http://localhost:5000/api';
  
  // SignalR Hub URL
  static const String hubUrl = 'https://pcm-backend-v1-1.onrender.com/notificationHub';
}
```

### CORS Configuration (Program.cs)

```csharp
builder.Services.AddCors(options =>
{
    options.AddPolicy("AllowAll", policy =>
    {
        policy.AllowAnyOrigin()
              .AllowAnyMethod()
              .AllowAnyHeader();
    });
});
```

---

## ğŸ“Š Database Schema

### Entity Models (Prefix 734_)

#### 734_Member (ThÃ nh viÃªn)

```csharp
- MemberId (PK)
- FullName
- Email (Unique)
- PasswordHash
- StudentId (MSSV)
- Role (Admin/User)
- Tier (Bronze/Silver/Gold/VIP/Diamond)
- Points (Äiá»ƒm tÃ­ch lÅ©y)
- CreatedAt
- UpdatedAt
```

#### 734_Wallet (VÃ­ tiá»n)

```csharp
- WalletId (PK)
- MemberId (FK)
- Balance (Sá»‘ dÆ°)
- CreatedAt
- UpdatedAt
```

#### 734_Booking (Äáº·t sÃ¢n)

```csharp
- BookingId (PK)
- MemberId (FK)
- CourtId (FK)
- BookingDate
- StartTime
- EndTime
- TotalPrice
- Status (Pending/Confirmed/Cancelled)
- CreatedAt
```

#### 734_Tournament (Giáº£i Ä‘áº¥u)

```csharp
- TournamentId (PK)
- Name
- Description
- StartDate
- EndDate
- MaxTeams
- EntryFee
- PrizePool
- Status (Open/InProgress/Completed)
- CreatedAt
```

**VÃ  nhiá»u entity khÃ¡c**: Court, RecurringBooking, Match, Transaction, Notification, ClubFund, TopUpRequest

### Relationships

```
Member 1 â”€â”€â”€ 1 Wallet
Member 1 â”€â”€â”€ N Booking
Member 1 â”€â”€â”€ N Transaction
Member 1 â”€â”€â”€ N Notification
Court 1 â”€â”€â”€ N Booking
Tournament 1 â”€â”€â”€ N Match
```

---

## ğŸŒ API Endpoints

### Authentication

- `POST /api/auth/register` - ÄÄƒng kÃ½ tÃ i khoáº£n má»›i
- `POST /api/auth/login` - ÄÄƒng nháº­p
- `GET /api/auth/profile` - Láº¥y thÃ´ng tin profile (JWT required)

### Booking

- `GET /api/booking` - Láº¥y danh sÃ¡ch booking
- `POST /api/booking` - Táº¡o booking má»›i
- `PUT /api/booking/{id}/cancel` - Há»§y booking
- `GET /api/booking/available-slots` - Láº¥y khung giá» trá»‘ng

### Wallet

- `GET /api/wallet` - Láº¥y thÃ´ng tin vÃ­
- `POST /api/wallet/topup` - Táº¡o yÃªu cáº§u náº¡p tiá»n
- `GET /api/wallet/transactions` - Lá»‹ch sá»­ giao dá»‹ch

### Tournament

- `GET /api/tournament` - Danh sÃ¡ch giáº£i Ä‘áº¥u
- `POST /api/tournament` - Táº¡o giáº£i Ä‘áº¥u (Admin)
- `POST /api/tournament/{id}/register` - ÄÄƒng kÃ½ tham gia
- `GET /api/tournament/{id}/matches` - Lá»‹ch thi Ä‘áº¥u

### Admin

- `GET /api/admin/dashboard` - Dashboard statistics
- `GET /api/admin/topup-requests` - Danh sÃ¡ch yÃªu cáº§u náº¡p tiá»n
- `PUT /api/admin/topup-requests/{id}/approve` - Duyá»‡t náº¡p tiá»n
- `PUT /api/admin/topup-requests/{id}/reject` - Tá»« chá»‘i náº¡p tiá»n
- `GET /api/admin/members` - Danh sÃ¡ch thÃ nh viÃªn

**Tá»•ng cá»™ng**: 40+ API endpoints

Xem chi tiáº¿t táº¡i: [Swagger UI](https://pcm-backend-v1-1.onrender.com/swagger)

---

## ğŸš¢ Deployment Guide

### Backend Deployment (Render.com)

1. **Build Docker Image**:

   ```bash
   cd Backend
   docker build -t pcm-backend:v1 .
   ```
2. **Push to Docker Hub**:

   ```bash
   docker login
   docker tag pcm-backend:v1 YOUR_USERNAME/pcm-backend:v1
   docker push YOUR_USERNAME/pcm-backend:v1
   ```
3. **Deploy on Render.com**:

   - VÃ o [Render.com](https://render.com)
   - New â†’ Web Service â†’ Deploy from Docker Image
   - Image URL: `docker.io/YOUR_USERNAME/pcm-backend:v1`
   - Environment Variable: `ASPNETCORE_URLS=http://0.0.0.0:10000`
   - Deploy

### Frontend Deployment (Vercel)

1. **Build Flutter Web**:

   ```bash
   cd Frontend
   flutter build web --release
   ```
2. **Deploy to Vercel**:

   ```bash
   cd build/web
   npx vercel --prod
   ```
3. **Cáº¥u hÃ¬nh**:

   - Project name: `pcm-frontend`
   - Framework: Other
   - Build command: (leave empty)
   - Output directory: `.`

**Chi tiáº¿t Ä‘áº§y Ä‘á»§**: Xem file [HUONG_DAN_DEPLOY.md](HUONG_DAN_DEPLOY.md)

---

## ğŸ§ª Testing

### Test Backend API

```bash
# Health check
curl http://localhost:5000/api/health

# Login
curl -X POST http://localhost:5000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@pcm.com","password":"Admin123"}'

# Get profile (vá»›i JWT token)
curl http://localhost:5000/api/auth/profile \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

### Test Frontend

```bash
# Run tests
cd Frontend
flutter test

# Run integration tests
flutter test integration_test/
```

---

## ğŸ“¸ Screenshots

> **LÆ°u Ã½**: Screenshots Ä‘Æ°á»£c chá»¥p tá»« á»©ng dá»¥ng Ä‘ang cháº¡y trÃªn Vercel vÃ  Render.com

### 1. Login Screen

- Giao diá»‡n Ä‘Äƒng nháº­p vá»›i email vÃ  password
- Hiá»ƒn thá»‹ tÃ i khoáº£n demo Ä‘á»ƒ test nhanh
- Validation input

### 2. Admin Dashboard

- Biá»ƒu Ä‘á»“ doanh thu 12 thÃ¡ng
- Thá»‘ng kÃª tá»•ng quá»¹, doanh thu, chi tiÃªu
- Sá»‘ lÆ°á»£ng thÃ nh viÃªn theo háº¡ng
- Danh sÃ¡ch yÃªu cáº§u náº¡p tiá»n chá» duyá»‡t

### 3. Booking Screen

- Calendar view hiá»ƒn thá»‹ sÃ¢n trá»‘ng/Ä‘Ã£ Ä‘áº·t
- Chá»n giá» vÃ  thanh toÃ¡n
- Lá»‹ch sá»­ booking

### 4. Wallet Screen

- Sá»‘ dÆ° vÃ­ hiá»‡n táº¡i
- Háº¡ng thÃ nh viÃªn vÃ  Ä‘iá»ƒm tÃ­ch lÅ©y
- Lá»‹ch sá»­ giao dá»‹ch
- NÃºt náº¡p tiá»n

### 5. Tournament Screen

- Danh sÃ¡ch giáº£i Ä‘áº¥u
- Chi tiáº¿t giáº£i Ä‘áº¥u vÃ  lá»‹ch thi Ä‘áº¥u
- ÄÄƒng kÃ½ tham gia

---

## ğŸ¯ Káº¿t Quáº£ Äáº¡t ÄÆ°á»£c

### âœ… HoÃ n ThÃ nh Äáº§y Äá»§ YÃªu Cáº§u Äá» BÃ i

1. âœ… **Backend API RESTful** vá»›i ASP.NET Core 8
2. âœ… **Flutter Mobile App** cháº¡y trÃªn Android
3. âœ… **Flutter Web App** cháº¡y trÃªn browser
4. âœ… **Authentication & Authorization** vá»›i JWT
5. âœ… **State Management** vá»›i Provider
6. âœ… **Real-time Communication** vá»›i SignalR
7. âœ… **Database** vá»›i EF Core Code First
8. âœ… **Docker Containerization**
9. âœ… **Cloud Deployment** (Render.com + Vercel)
10. âœ… **API Documentation** vá»›i Swagger

### ğŸ† Äiá»ƒm Cá»™ng

- âœ¨ **Background Services**: Auto-cancel, Auto-remind
- âœ¨ **Charts & Analytics**: FL Chart cho Admin Dashboard
- âœ¨ **Tier System**: Há»‡ thá»‘ng háº¡ng thÃ nh viÃªn vá»›i Æ°u Ä‘Ã£i
- âœ¨ **Recurring Booking**: Äáº·t sÃ¢n Ä‘á»‹nh ká»³ cho VIP
- âœ¨ **Tournament Management**: Quáº£n lÃ½ giáº£i Ä‘áº¥u hoÃ n chá»‰nh
- âœ¨ **Real-time Notifications**: SignalR WebSocket
- âœ¨ **Responsive UI**: TÆ°Æ¡ng thÃ­ch má»i kÃ­ch thÆ°á»›c mÃ n hÃ¬nh
- âœ¨ **Secure Storage**: Flutter Secure Storage cho JWT
- âœ¨ **Error Handling**: Try-catch toÃ n diá»‡n
- âœ¨ **Code Quality**: Clean code, comments, naming conventions

---

## ğŸ› Known Issues & Limitations

### Backend

- **Free Tier Render.com**: Backend "ngá»§" sau 15 phÃºt khÃ´ng hoáº¡t Ä‘á»™ng, cáº§n 30-60s Ä‘á»ƒ "thá»©c dáº­y"
- **SQLite**: KhÃ´ng phÃ¹ há»£p cho production lá»›n, nÃªn chuyá»ƒn sang PostgreSQL/MySQL

### Frontend

- **Web Performance**: Láº§n Ä‘áº§u load cÃ³ thá»ƒ cháº­m do Flutter Web bundle size lá»›n
- **iOS Build**: ChÆ°a test trÃªn thiáº¿t bá»‹ iOS tháº­t (chá»‰ test trÃªn simulator)

### General

- **Image Upload**: ChÆ°a implement upload lÃªn cloud storage (Ä‘ang lÆ°u base64 trong DB)
- **Email Service**: ChÆ°a tÃ­ch há»£p gá»­i email thÃ´ng bÃ¡o
- **Payment Gateway**: ChÆ°a tÃ­ch há»£p cá»•ng thanh toÃ¡n tháº­t

---

## ğŸ”® HÆ°á»›ng PhÃ¡t Triá»ƒn TÆ°Æ¡ng Lai

1. **TÃ­ch há»£p Payment Gateway**: VNPay, MoMo, ZaloPay
2. **Email Notifications**: SendGrid hoáº·c AWS SES
3. **Cloud Storage**: AWS S3 hoáº·c Cloudinary cho upload áº£nh
4. **Push Notifications**: Firebase Cloud Messaging
5. **Analytics**: Google Analytics, Firebase Analytics
6. **Performance**: Caching vá»›i Redis
7. **Database**: Migrate sang PostgreSQL
8. **CI/CD**: GitHub Actions cho auto-deploy
9. **Testing**: Unit tests, Integration tests, E2E tests
10. **Monitoring**: Application Insights, Sentry

---

## ğŸ“š TÃ i Liá»‡u Tham Kháº£o

### Official Documentation

- [ASP.NET Core Documentation](https://docs.microsoft.com/en-us/aspnet/core/)
- [Flutter Documentation](https://docs.flutter.dev/)
- [Entity Framework Core](https://docs.microsoft.com/en-us/ef/core/)
- [SignalR Documentation](https://docs.microsoft.com/en-us/aspnet/core/signalr/)

### Tutorials & Guides

- [JWT Authentication in ASP.NET Core](https://jasonwatmore.com/post/2021/12/14/net-6-jwt-authentication-tutorial-with-example-api)
- [Flutter Provider State Management](https://docs.flutter.dev/development/data-and-backend/state-mgmt/simple)
- [Docker for .NET Developers](https://docs.docker.com/samples/dotnet/)

---

## ğŸ“ LiÃªn Há»‡ & Há»— Trá»£

**Sinh viÃªn thá»±c hiá»‡n**: Äá»— VÄƒn TuyÃªn
**MSSV**: xxxxx734
**Lá»›p**: CNTT 17-08
**Email**: dovantuyen.2005nb@gmail.com
**GitHub**:http://github.com/GitDoTuyen

---

## ğŸ“„ License

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c thá»±c hiá»‡n cho má»¥c Ä‘Ã­ch há»c táº­p vÃ  nghiÃªn cá»©u.
Â© 2026 Äá»— VÄƒn TuyÃªn - All Rights Reserved.

---

## ğŸ™ Lá»i Cáº£m Æ n

Em xin chÃ¢n thÃ nh cáº£m Æ¡n:

- **Giáº£ng viÃªn hÆ°á»›ng dáº«n** Ä‘Ã£ táº­n tÃ¬nh chá»‰ báº£o
- **CÃ¡c báº¡n trong lá»›p** Ä‘Ã£ há»— trá»£ vÃ  Ä‘á»™ng viÃªn
- **Cá»™ng Ä‘á»“ng Flutter & .NET** trÃªn Stack Overflow, GitHub

---

**ğŸ“… NgÃ y hoÃ n thÃ nh**: 01/02/2026
**ğŸ“ PhiÃªn báº£n**: 1.0.0
**ğŸ“ MÃ´n há»c**: Láº­p TrÃ¬nh Di Äá»™ng NÃ¢ng Cao
**ğŸ« TrÆ°á»ng**: Äáº¡i Há»c Äáº¡i Nam

---

> **"Code is like humor. When you have to explain it, it's bad."** â€“ Cory House

**Happy Coding! ğŸš€**
